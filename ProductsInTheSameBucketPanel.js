/*
 * File: app/view/ProductsInTheSameBucketPanel.js
 *
 * This file was generated by Sencha Architect version 3.0.4.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 4.2.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 4.2.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('Cobuy.view.ProductsInTheSameBucketPanel', {
    extend: 'Ext.panel.Panel',
    alias: 'widget.productsinthesamebucketpanel',

    requires: [
        'Ext.view.View',
        'Ext.XTemplate'
    ],

    height: 250,
    width: 400,
    overflowX: 'auto',
    overflowY: 'auto',
    layout: 'anchor',

    initComponent: function() {
        var me = this;

        Ext.applyIf(me, {
            items: [
                {
                    xtype: 'dataview',
                    prepareData: function(data) {
                        var price = data.prevailing_retail_selling_price;
                        var business_price = data.per_portion_price;
                        var quotable = data.is_quotable;
                        if(data.is_rentable ===1 ||data.is_rentable == "true"){

                        }else{
                            var rentable = "This Product is not rentable as at this time. Consider buying it with a staggered payment plan";
                        }
                        if(data.is_optionable ===1 ||data.is_optionable == "true"){

                        }else{
                            var optionable = "The Purchase of this Product does not confer the right for any future privilege ";
                            var optionableTarget = "n/a ";
                        }
                        if(data.allowed_for_international_market ===1 ||data.allowed_for_international_market == "true"){

                        }else{
                            var international = "The Product can only be delivered to a Nigerian Address as at this time";
                        }
                        if(data.allowed_for_inspection ===1 ||data.allowed_for_inspection == "true"){

                        }else{
                            var inspection = "On-request pre-shipment inspection of this product is not feasible as at this time";
                        }
                        if(data.has_free_shipping_promotion ===1 ||data.has_free_shipping_promotion == "true"){

                        }else{
                            var freeShippingPromo = "There is no Free Shipping Promotion on this Product as at this time";
                            var freeShippingPromoTarget = "n/a";
                        }
                        if(data.has_give_away_promotion ===1 ||data.has_give_away_promotion == "true"){

                        }else{
                            var giveAwayPromo = "There is no Give Away Promotion on this Product as at this time";
                            var giveAwayPromoTarget = "n/a";
                        }
                        if(data.has_percentage_off_promotion ===1 ||data.has_percentage_off_promotion == "true"){

                        }else{
                            var percentageOffPromo = "There is no Percentage Off Promotion on this Product as at this time";
                            var percentageOffPromoTarget = "n/a";
                        }
                        if(data.has_buy_one_get_one_promotion ===1 ||data.has_buy_one_get_one_promotion == "true"){

                        }else{
                            var buyOneGetOnePromo = "There is no Buy One Get One Promotion on this Product as at this time";
                            var buyOneGetOnePromoTarget = "n/a";
                        }
                        if(data.is_escrowable ===1 ||data.is_escrowable == "true"){

                        }else{
                            var escrowable = "This product does not support Escrow or Trade Assurance facility as at this time";

                        }
                        if(data.is_future_tradable ===1 ||data.is_future_tradable == "true"){

                        }else{
                            var paymentScheduling = "This product supports only one-time payment as at this time";

                        }
                        if(data.has_coupon ===1 ||data.has_coupon == "true"){

                        }else{
                            var withCoupon = "There is no Coupon available for this product as this time";
                            var withCouponTarget = "n/a";

                        }
                        if(data.is_payment_permitted_on_delivery ===1 ||data.is_payment_permitted_on_delivery == "true"){
                            var paymentMethod ="This product support payment using Credit/Debit Card, or Bank Transfer, or Cash On delivery as at this time";
                        }else{
                            var paymentMethod ="This product support payment using Credit/Debit Card, or Bank Transfer as at this time";

                        }
                        if(data.is_available ===1 ||data.is_available == true){
                            var productAvailability ="Product is Available";
                        }else{
                            var productAvailability ="Product is currently out of stock. Will be restocked soon";

                        }
                        if(data.warranty != ""){
                            var warranty =data.warranty;
                        }else{
                            var warranty ="There is no warranty for this product. You may wish to use the Escrow/Trade Assurance facility if applicable";

                        }
                        console.log('the product availability is:',data.is_available);
                        var studentDiscount = data.discount_for_students;
                        var publicDiscount = data.discount_for_public_institutions;
                        var officersDiscount = data.discount_for_officers;
                        var academiaDiscount = data.discount_for_academia;
                        var compliance = data.regulatory_compliance;
                        if(quotable == true){
                            price = 'request a quote';
                        }else{
                            price = Ext.util.Format.currency(price,'=N=',2);
                            business_price = Ext.util.Format.currency(business_price,'=N=',2);
                        }


                        Ext.apply(data, {
                            separatorLine: Ext.util.Format.ellipsis("__________________________________________________________________________________________________", 100),
                            shortName: Ext.util.Format.ellipsis(data.name, 200),
                            oneroofFuture: Ext.util.Format.ellipsis(data.feature, 250),
                            oneroofFuture_1: Ext.util.Format.ellipsis(data.feature_1, 250),
                            oneroofFuture_2: Ext.util.Format.ellipsis(data.feature_2, 250),
                            oneroofFuture_3: Ext.util.Format.ellipsis(data.feature_3, 250),
                            oneroofFuture_4: Ext.util.Format.ellipsis(data.feature_4, 250),
                            productPromotion: Ext.util.Format.ellipsis(data.promotion, 250),
                            minQuantityRequired:data.minimum_number_of_product_to_buy,
                            productItemDefined:data.whats_product_per_item,
                            productCondition:data.condition,
                            productCode:data.code,
                            rentable: Ext.util.Format.ellipsis(rentable, 250),
                            optionable: Ext.util.Format.ellipsis(optionable, 250),
                            optionableTarget: Ext.util.Format.ellipsis(optionableTarget, 250),
                            international: Ext.util.Format.ellipsis(international, 250),
                            inspection: Ext.util.Format.ellipsis(inspection, 250),
                            freeShippingPromo: Ext.util.Format.ellipsis(freeShippingPromo, 250),
                            freeShippingPromoTarget: Ext.util.Format.ellipsis(freeShippingPromoTarget, 250),
                            giveAwayPromo: Ext.util.Format.ellipsis(giveAwayPromo, 250),
                            giveAwayPromoTarget: Ext.util.Format.ellipsis(giveAwayPromoTarget, 250),
                            percentageOffPromo: Ext.util.Format.ellipsis(percentageOffPromo, 250),
                            percentageOffPromoTarget: Ext.util.Format.ellipsis(percentageOffPromoTarget, 250),
                            buyOneGetOnePromo: Ext.util.Format.ellipsis(buyOneGetOnePromo, 250),
                            buyOneGetOnePromoTarget: Ext.util.Format.ellipsis(buyOneGetOnePromoTarget, 250),
                            escrowable: Ext.util.Format.ellipsis(escrowable, 250),
                            paymentScheduling: Ext.util.Format.ellipsis(paymentScheduling, 250),
                            paymentMethod: Ext.util.Format.ellipsis(paymentMethod, 250),
                            withCoupon: Ext.util.Format.ellipsis(withCoupon, 250),
                            withCouponTarget: Ext.util.Format.ellipsis(withCouponTarget, 250),
                            productAvailability: Ext.util.Format.ellipsis(productAvailability, 250),
                            warranty: warranty,
                            price: price,
                            business_price:business_price,
                            studentDiscount:studentDiscount,
                            publicDiscount:publicDiscount,
                            officersDiscount:officersDiscount,
                            academiaDiscount:academiaDiscount,
                            compliance:compliance

                        });


                        return data;
                    },
                    cls: 'my-dataview-cls',
                    itemId: 'productsInTheSameBucketDataview',
                    itemSelector: 'div',
                    itemTpl: [
                        '',
                        '',
                        '<tpl for=".">',
                        '    <div style="float:left;padding:	10px 30px 30px 43px;  "class=thumb-wrap id="id">',
                        '        <div class=thumb><img src="../admin.oneroof.com.ng/cobuy_images/icons/{icon}"  height="128" width="128"></div>',
                        '        <div >',
                        '        <!--    <h4> <b>{shortName} </b></br></h4>',
                        '            <h5> <b>{fieldName} </b></br></h5> ',
                        '            <h5> <b>{description} </b></br></h5>',
                        '            <h5> <b>{description_1} </b></br></h5>',
                        '            <h5> <b>{description_2} </b></br></h5> ',
                        '            <h5> <b>{description_3} </b></br></h5> ',
                        '            <h5> <b>{description_4} </b></br></h5> ',
                        '            <em>{price} </em></br> ',
                        '            <h5> <b>{separatorLine} </b></br></h5>  -->  ',
                        '        ',
                        '            ',
                        '           <span style="position:relative;left:200px;top:-150px;"><h1><b>{shortName}</b></h1></span>',
                        '            <span style="position:relative;left:200px;top:-150px;"><h3><br>Price:<font color="red">{price}</font></h3></span>',
                        '            <span style="position:relative;left:200px;top:-150px;"><h3><b>{oneroofFuture}</b></h3></span>',
                        '            <span style="position:relative;left:200px;top:-150px;"><h3><b>{oneroofFuture_1}</b></h3></span>',
                        '            <span style="position:relative;left:200px;top:-150px;"><h3><b>{oneroofFuture_2}</b></h3></span>',
                        '            <span style="position:relative;left:200px;top:-150px;"><h3><b>{oneroofFuture_3}</b></h3></span>',
                        '            <span style="position:relative;left:200px;top:-150px;"><h3><b>{oneroofFuture_4}</b></h3></span>',
                        '            <!-- <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Special Price for Businessess:</font><font color="green"> {business_price}</font></b></h3></span> -->',
                        '           <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">What is an item of this product?:</font> {productItemDefined}</b></h3></span>',
                        '		   <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Minimum Quantity Required:</font> {minQuantityRequired}</b></h3></span>',
                        '             <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Product Condition:</font> {productCondition}</b></h3></span>',
                        '            <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Product Availability:</font><b><font color="green"> {productAvailability}</font></b></h3></span>',
                        '			   <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Product Code:</font> {productCode}</b></h3></span>',
                        '            <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Free Shipping Promotion:</font> {freeShippingPromo}</b></h3></span>',
                        '            <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Free Shipping Promotion Target:</font> {freeShippingPromoTarget}</b></h3></span>',
                        '            <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Give Away Promotion:</font> {giveAwayPromo}</b></h3></span>',
                        '            <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Give Away Promotion Target:</font> {giveAwayPromoTarget}</b></h3></span>',
                        '            <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Percentage Off Promotion:</font> {percentageOffPromo}</b></h3></span>',
                        '            <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Percentage Off Promotion Target:</font> {percentageOffPromoTarget}</b></h3></span>',
                        '            <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Buy One Get One Promotion:</font> {buyOneGetOnePromo}</b></h3></span>',
                        '            <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Buy One Get One Promotion Target:</font> {buyOneGetOnePromoTarget}</b></h3></span>',
                        '             <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Waranty:</font> {warranty}</b></h3></span>',
                        '             <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Rentable?:</font> {rentable}</b></h3></span>',
                        '			  <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Escrow/Trade Assurance:</font> {escrowable}</b></h3></span>',
                        '            <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Avaliable for International Market?:</font> {international}</b></h3></span>',
                        '             <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Product Inspection:</font> {inspection}</b></h3></span>',
                        '            <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Payment Scheduling:</font> {paymentScheduling}</b></h3></span>',
                        '             <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Payment Method:</font> {paymentMethod}</b></h3></span>',
                        '              <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Coupon:</font> {withCoupon}</b></h3></span>  ',
                        '              <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Coupon Target:</font> {withCouponTarget}</b></h3></span> ',
                        '			 <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Special Discount for Public/Government Institutions:</font> {publicDiscount}</b></h3></span>',
                        '             <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Special Discount for Students:</font> {studentDiscount}</b></h3></span>',
                        '             <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Special Discount for Educational Institutions:</font> {academiaDiscount}</b></h3></span>',
                        '             <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Special Discount for Veterans, Serving Military & Police Personnels:</font> {officersDiscount}</b></h3></span>',
                        '           <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Regulatory Compliance:</font> {compliance}</b></h3></span>             ',
                        '         <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Options Purchase:</font> {optionable}</b></h3></span>    ',
                        '           <span style="position:relative;left:200px;top:-150px;"><h3><b><font color="blue">Options Purchase Target:</font> {optionableTarget}</b></h3></span>          ',
                        '                <span style=class=x-editable><h3><center>{separatorLine}</center></h3></span>',
                        '            ',
                        '       ',
                        '',
                        '      <!-- <span style="padding-right:5px">price/user/yr:</span><span style=class=x-editable>{price}</span>',
                        '        <span style="padding-right:5px">visibility:</span><span style=class=x-editable>{visibility}</span>',
                        '       <span style="padding-right:5px">location:</span><span style=class=x-editable>{location}</span>',
                        '        <br>min subscription no.:<span style="padding-left:5px">{min_subs_no}</span></br> -->',
                        '        ',
                        '</div>',
                        '        ',
                        '    </tpl>',
                        '<div class=x-clear></div>'
                    ],
                    loadMask: false,
                    preserveScrollOnRefresh: true,
                    store: 'ProductsInTheSameBucket'
                }
            ]
        });

        me.callParent(arguments);
    }

});